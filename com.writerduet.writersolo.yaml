app-id: com.writerduet.writersolo
runtime: org.freedesktop.Platform
runtime-version: '23.08'
sdk: org.freedesktop.Sdk
base: org.electronjs.Electron2.BaseApp
base-version: '23.08'
command: writersolo
finish-args:
  - --share=ipc
  - --share=network
  - --socket=x11
  - --device=dri
  - --env=XCURSOR_PATH=/run/host/user-share/icons:/run/host/share/icons
  - --filesystem=xdg-download
rename-desktop-file: writersolo.desktop
rename-icon: writersolo
modules:

  - name: writersolo
    buildsystem: simple
    build-commands:
      - ar -x WriterSolo-7.0.374-amd64.deb
      - rm -f WriterSolo-7.0.374-amd64.deb
      - tar -xf data.tar.xz
      - rm -f control.tar.gz data.tar.xz debian-binary
      - cp -r opt/* usr/* $FLATPAK_DEST
      - rm -rf opt usr
      - rm -rf "${FLATPAK_DEST}/share/icons/hicolor/1024x1024/"

    sources:
      - type: extra-data
        only-arches:
          - x86_64
        url: https://media.writerduet.com/solo_app/v7/WriterSolo-7.0.374-amd64.deb
        sha256: c84d448b4ac35914e21fe9ad03271ff961095be0d34a348d875437f9fd946802
        size: 177550750
        filename: WriterSolo-7.0.374-amd64.deb
        #x-checker-data:
          #type: anitya
          #project-id: 179174
          #url-template: https://github.com/bitwarden/clients/releases/download/desktop-v$version/Bitwarden-$version-amd64.deb
          #is-main-source: true
